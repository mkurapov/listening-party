{"map":{"version":3,"sources":["static/js/main.fc11f78f.chunk.js"],"names":["this","push","112","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","react_router","lib","lib_default","components_Button","_ref","name","onClick","a","createElement","slicedToArray","axios","axios_default","endpoints","LOGIN","SPOTIFY_ACCOUNT_URL","ME","SPOTIFY_API","CURRENT_PLAYBACK","UserContext","Object","user","undefined","logout","UserContext_UserProvider","children","_useState","_useState2","setUser","console","log","savedUser","localStorage","getItem","JSON","parse","window","location","hash","login","locationArgs","hashInput","substring","params","split","map","hk","temp","getHashParams","defaults","headers","common","access_token","get","then","res","data","setItem","stringify","clear","SettingsContext","Provider","value","pages_Home","history","_useUser","socket","on","party","id","emit","href","APP_URL","Party","Party_default","src_App","className","exact","path","Boolean","hostname","match","react_router_dom","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message","51","exports","Error","53","58","59","89"],"mappings":"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"},"code":"(this[\"webpackJsonplistening-party\"]=this[\"webpackJsonplistening-party\"]||[]).push([[0],{112:function(e,t,n){\"use strict\";n.r(t);var a=n(0),r=n.n(a),l=n(47),o=n.n(l),i=(n(58),n(59),n(4)),s=n(48),c=n.n(s),m=function(e){var t=e.name,n=e.onClick;return r.a.createElement(\"button\",{onClick:n},t)},d=n(52),u=n(20),p=n.n(u),b={LOGIN:\"https://accounts.spotify.com/authorize\",ME:\"https://api.spotify.com/v1/me\",CURRENT_PLAYBACK:\"https://api.spotify.com/v1/me/player\"},h=Object(a.createContext)({user:void 0,logout:function(){}}),v=function(e){var t=e.children,n=Object(a.useState)(),l=Object(d.a)(n,2),o=l[0],i=l[1];Object(a.useEffect)((function(){console.log(\"checklogin\");var e=localStorage.getItem(\"user\");e?i(JSON.parse(e)):window.location.hash&&s()}),[]);var s=function(){var e=function(e){var t=e.substring(1),n={};return t.split(\"&\").map((function(e){var t=e.split(\"=\");n[t[0]]=t[1]})),n}(window.location.hash);p.a.defaults.headers.common.Authorization=\"Bearer \"+e.access_token,p.a.get(b.ME).then((function(e){var t=e.data;i(t),localStorage.setItem(\"user\",JSON.stringify(t))}))},c=function(){i(void 0),localStorage.clear()},m=Object(a.useMemo)((function(){return{user:o,logout:c}}),[o,c]);return r.a.createElement(h.Provider,{value:m},t)},g=function(){var e=Object(i.f)(),t=Object(a.useContext)(h),n=t.user,l=t.logout;console.log(n);var o=c()(\"http://localhost:8080\");o.on(\"party-created\",(function(t){console.log(t),e.push(\"/party/\"+t.id)}));return r.a.createElement(\"div\",null,n&&n.id?r.a.createElement(\"div\",null,r.a.createElement(\"div\",null,\"Hi, \",n.id,\"!\"),r.a.createElement(m,{name:\"Logout\",onClick:l}),r.a.createElement(m,{name:\"Create new Room\",onClick:function(){o.emit(\"party-create\",o.id)}})):r.a.createElement(\"a\",{href:\"http://localhost:8080/login\"},\"Login\"))},f=n(51),y=n.n(f);var x=function(){return r.a.createElement(v,null,r.a.createElement(\"div\",{className:\"App\"},r.a.createElement(\"header\",{className:\"App-header\"}),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:\"/\"},r.a.createElement(g,null)),r.a.createElement(i.a,{path:\"/party/:id\"},r.a.createElement(y.a,null)))))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=n(13);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E.a,null,r.a.createElement(x,null))),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},51:function(e,t){throw new Error(\"Module build failed (from ./node_modules/babel-loader/lib/index.js):\\nSyntaxError: /Users/max/dev/listening-party/client/src/pages/Party.tsx: Identifier 'Party' has already been declared (12:6)\\n\\n\\x1b[0m \\x1b[90m 10 | \\x1b[39m\\x1b[0m\\n\\x1b[0m \\x1b[90m 11 | \\x1b[39m\\x1b[0m\\n\\x1b[0m\\x1b[31m\\x1b[1m>\\x1b[22m\\x1b[39m\\x1b[90m 12 | \\x1b[39m\\x1b[36mconst\\x1b[39m \\x1b[33mParty\\x1b[39m \\x1b[33m=\\x1b[39m ()\\x1b[33m:\\x1b[39m \\x1b[33mReact\\x1b[39m\\x1b[33m.\\x1b[39m\\x1b[33mReactElement\\x1b[39m \\x1b[33m=>\\x1b[39m {\\x1b[0m\\n\\x1b[0m \\x1b[90m    | \\x1b[39m      \\x1b[31m\\x1b[1m^\\x1b[22m\\x1b[39m\\x1b[0m\\n\\x1b[0m \\x1b[90m 13 | \\x1b[39m    \\x1b[36mconst\\x1b[39m { user } \\x1b[33m=\\x1b[39m useUser()\\x1b[33m;\\x1b[39m\\x1b[0m\\n\\x1b[0m \\x1b[90m 14 | \\x1b[39m\\x1b[0m\\n\\x1b[0m \\x1b[90m 15 | \\x1b[39m    \\x1b[36mreturn\\x1b[39m (\\x1b[33m<\\x1b[39m\\x1b[33mdiv\\x1b[39m\\x1b[33m>\\x1b[39m\\x1b[0m\\n    at Object._raise (/Users/max/dev/listening-party/client/node_modules/@babel/parser/lib/index.js:742:17)\\n    at Object.raiseWithData (/Users/max/dev/listening-party/client/node_modules/@babel/parser/lib/index.js:735:17)\\n    at Object.raise (/Users/max/dev/listening-party/client/node_modules/@babel/parser/lib/index.js:729:17)\\n    at TypeScriptScopeHandler.checkRedeclarationInScope (/Users/max/dev/listening-party/client/node_modules/@babel/parser/lib/index.js:4769:12)\\n    at TypeScriptScopeHandler.declareName (/Users/max/dev/listening-party/client/node_modules/@babel/parser/lib/index.js:4735:12)\\n    at TypeScriptScopeHandler.declareName (/Users/max/dev/listening-party/client/node_modules/@babel/parser/lib/index.js:4845:11)\\n    at Object.checkLVal (/Users/max/dev/listening-party/client/node_modules/@babel/parser/lib/index.js:9202:22)\\n    at Object.checkLVal (/Users/max/dev/listening-party/client/node_modules/@babel/parser/lib/index.js:6913:15)\\n    at Object.parseVarId (/Users/max/dev/listening-party/client/node_modules/@babel/parser/lib/index.js:11754:10)\\n    at Object.parseVarId (/Users/max/dev/listening-party/client/node_modules/@babel/parser/lib/index.js:6745:11)\")},53:function(e,t,n){e.exports=n(112)},58:function(e,t,n){},59:function(e,t,n){},89:function(e,t){}},[[53,1,2]]]);","extractedComments":[]}