{"map":{"version":3,"sources":["static/js/main.4a1cc475.chunk.js"],"names":["this","push","111","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","lib","lib_default","react_router","components_Button","_ref","name","onClick","a","createElement","slicedToArray","axios","axios_default","endpoints","LOGIN","SPOTIFY_ACCOUNT_URL","ME","SPOTIFY_API","CURRENT_PLAYBACK","UserContext","Object","user","undefined","logout","UserContext_UserProvider","children","_useState","_useState2","setUser","savedUser","localStorage","getItem","JSON","parse","window","location","hash","login","locationArgs","hashInput","substring","params","split","map","hk","temp","getHashParams","defaults","headers","common","access_token","get","then","res","console","log","data","setItem","stringify","SettingsContext","clear","Provider","value","src_App","_useUser","socket","on","party","className","exact","path","id","emit","href","APP_URL","Boolean","hostname","match","react_router_dom","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message","52","exports","57","58","88"],"mappings":"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"},"code":"(this[\"webpackJsonplistening-party\"]=this[\"webpackJsonplistening-party\"]||[]).push([[0],{111:function(e,t,n){\"use strict\";n.r(t);var a=n(0),o=n.n(a),r=n(47),c=n.n(r),i=(n(57),n(58),n(48)),l=n.n(i),s=n(4),u=function(e){var t=e.name,n=e.onClick;return o.a.createElement(\"button\",{onClick:n},t)},m=n(51),h=n(20),p=n.n(h),d={LOGIN:\"https://accounts.spotify.com/authorize\",ME:\"https://api.spotify.com/v1/me\",CURRENT_PLAYBACK:\"https://api.spotify.com/v1/me/player\"},f=Object(a.createContext)({user:void 0,logout:function(){}}),v=function(e){var t=e.children,n=Object(a.useState)(),r=Object(m.a)(n,2),c=r[0],i=r[1];Object(a.useEffect)((function(){var e=localStorage.getItem(\"user\");e?i(JSON.parse(e)):window.location.hash&&l()}),[]);var l=function(){var e=function(e){var t=e.substring(1),n={};return t.split(\"&\").map((function(e){var t=e.split(\"=\");n[t[0]]=t[1]})),n}(window.location.hash);p.a.defaults.headers.common.Authorization=\"Bearer \"+e.access_token,p.a.get(d.ME).then((function(e){console.log(e.data);var t=e.data;i(t),localStorage.setItem(\"user\",JSON.stringify(t))}))},s={user:c,logout:function(){i(void 0),localStorage.clear()}};return o.a.createElement(f.Provider,{value:s},t)};var g=function(){var e=Object(a.useContext)(f),t=e.user,n=e.logout;console.log(t);var r=l()(\"http://localhost:8080\");return r.on(\"party-created\",(function(e){console.log(e)})),o.a.createElement(v,null,o.a.createElement(\"div\",{className:\"App\"},o.a.createElement(\"header\",{className:\"App-header\"}),o.a.createElement(s.c,null,o.a.createElement(s.a,{exact:!0,path:\"/\"},t&&t.id?o.a.createElement(\"div\",null,o.a.createElement(\"div\",null,\"Hi, \",t.id,\"!\"),o.a.createElement(u,{name:\"Logout\",onClick:n}),o.a.createElement(u,{name:\"Create new Room\",onClick:function(){r.emit(\"party-create\",r.id)}})):o.a.createElement(\"a\",{href:\"http://localhost:8080/login\"},\"Login\")))))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=n(19);c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(E.a,null,o.a.createElement(g,null))),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},52:function(e,t,n){e.exports=n(111)},57:function(e,t,n){},58:function(e,t,n){},88:function(e,t){}},[[52,1,2]]]);","extractedComments":[]}