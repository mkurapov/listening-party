{"map":{"version":3,"sources":["static/js/main.482feda6.chunk.js"],"names":["this","push","43","module","exports","__webpack_require__","48","49","6","Error","79","86","__webpack_exports__","r","SocketEvent","react","react_default","n","react_dom","react_dom_default","react_router","components_Button","_ref","name","onClick","a","createElement","UserContext","lib","src_socket","lib_default","pages_Home","history","Object","_useUser","user","logout","on","CREATE_PARTY_RES","newPartyId","id","emit","CREATE_PARTY_REQ","href","APP_URL","slicedToArray","Party","_party$users","match","isLoading","_useState","_useState2","numberOfUsers","_useState3","undefined","_useState4","party","setParty","_useState5","_useState6","partyId","params","PARTY_JOINED_RES","console","log","USER_LEFT_PARTY_RES","USER_LEFT_PARTY_REQ","PARTY_JOINED_REQ","socketId","users","map","display_name","src_App","className","exact","path","component","Boolean","window","location","hostname","react_router_dom","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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"},"code":"(this[\"webpackJsonplistening-party\"]=this[\"webpackJsonplistening-party\"]||[]).push([[0],{43:function(e,n,t){e.exports=t(86)},48:function(e,n,t){},49:function(e,n,t){},6:function(e,n){throw new Error(\"Module build failed (from ./node_modules/babel-loader/lib/index.js):\\nSyntaxError: /Users/max/dev/listening-party/client/src/contexts/UserContext.tsx: Unexpected token, expected \\\",\\\" (33:53)\\n\\n\\x1b[0m \\x1b[90m 31 | \\x1b[39m\\x1b[0m\\n\\x1b[0m \\x1b[90m 32 | \\x1b[39m    useEffect(() \\x1b[33m=>\\x1b[39m {\\x1b[0m\\n\\x1b[0m\\x1b[31m\\x1b[1m>\\x1b[22m\\x1b[39m\\x1b[90m 33 | \\x1b[39m        \\x1b[36mconst\\x1b[39m savedUser \\x1b[33m=\\x1b[39m localStorage\\x1b[33m.\\x1b[39mgetItem(\\x1b[32m'user'\\x1b[39m\\x1b[33m;\\x1b[39m\\x1b[0m\\n\\x1b[0m \\x1b[90m    | \\x1b[39m                                                     \\x1b[31m\\x1b[1m^\\x1b[22m\\x1b[39m\\x1b[0m\\n\\x1b[0m \\x1b[90m 34 | \\x1b[39m        console\\x1b[33m.\\x1b[39mlog(\\x1b[32m'checking login '\\x1b[39m\\x1b[33m,\\x1b[39m savedUser)\\x1b[0m\\n\\x1b[0m \\x1b[90m 35 | \\x1b[39m        \\x1b[36mif\\x1b[39m (savedUser) {\\x1b[0m\\n\\x1b[0m \\x1b[90m 36 | \\x1b[39m            setUser(\\x1b[33mJSON\\x1b[39m\\x1b[33m.\\x1b[39mparse(savedUser))\\x1b[33m;\\x1b[39m\\x1b[0m\\n    at Object._raise (/Users/max/dev/listening-party/client/node_modules/@babel/parser/lib/index.js:742:17)\\n    at Object.raiseWithData (/Users/max/dev/listening-party/client/node_modules/@babel/parser/lib/index.js:735:17)\\n    at Object.raise (/Users/max/dev/listening-party/client/node_modules/@babel/parser/lib/index.js:729:17)\\n    at Object.unexpected (/Users/max/dev/listening-party/client/node_modules/@babel/parser/lib/index.js:8752:16)\\n    at Object.expect (/Users/max/dev/listening-party/client/node_modules/@babel/parser/lib/index.js:8738:28)\\n    at Object.parseCallExpressionArguments (/Users/max/dev/listening-party/client/node_modules/@babel/parser/lib/index.js:9765:14)\\n    at Object.parseSubscript (/Users/max/dev/listening-party/client/node_modules/@babel/parser/lib/index.js:9691:31)\\n    at Object.parseSubscript (/Users/max/dev/listening-party/client/node_modules/@babel/parser/lib/index.js:6420:18)\\n    at Object.parseSubscripts (/Users/max/dev/listening-party/client/node_modules/@babel/parser/lib/index.js:9620:19)\\n    at Object.parseExprSubscripts (/Users/max/dev/listening-party/client/node_modules/@babel/parser/lib/index.js:9603:17)\")},79:function(e,n){},86:function(e,n,t){\"use strict\";t.r(n);var a,r=t(0),i=t.n(r),s=t(39),l=t.n(s),o=(t(48),t(49),t(3));!function(e){e.USER_CONNECTED_REQ=\"USER_CONNECTED_REQ\",e.USER_DISCONNECTED_REQ=\"USER_DISCONNECTED_REQ\",e.CREATE_PARTY_REQ=\"CREATE_PARTY_REQ\",e.CREATE_PARTY_RES=\"CREATE_PARTY_RES\",e.USER_JOINED_RES=\"USER_JOINED_RES\",e.USER_JOINED_REQ=\"USER_JOINED_REQ\",e.USER_LEFT_PARTY_REQ=\"USER_LEFT_PARTY_REQ\",e.USER_LEFT_PARTY_RES=\"USER_LEFT_PARTY_RES\",e.PARTY_JOINED_REQ=\"PARTY_JOINED_REQ\",e.PARTY_JOINED_UNAUTHED_REQ=\"PARTY_JOINED_UNAUTHED_REQ\",e.PARTY_JOINED_UNAUTHED_RES=\"PARTY_JOINED_UNAUTHED_RES\",e.PARTY_JOINED_RES=\"PARTY_JOINED_RES\"}(a||(a={}));var m=function(e){var n=e.name,t=e.onClick;return i.a.createElement(\"button\",{onClick:t},n)},c=t(6),E=t(40),d=t.n(E)()(\"http://localhost:8080\"),u=function(){var e=Object(o.f)(),n=Object(c.useUser)(),t=n.user,s=n.logout;Object(r.useEffect)((function(){d.on(a.CREATE_PARTY_RES,(function(n){e.push(\"/party/\"+n)}))}),[]);return i.a.createElement(\"div\",null,t&&t.id?i.a.createElement(\"div\",null,i.a.createElement(\"div\",null,\"Hi, \",t.id,\"!\"),i.a.createElement(m,{name:\"Logout\",onClick:s}),i.a.createElement(m,{name:\"Create new Room\",onClick:function(){d.emit(a.CREATE_PARTY_REQ,d.id)}})):i.a.createElement(\"a\",{href:\"http://localhost:8080/login\"},\"Login\"))},_=t(13),R=function(e){var n,t=e.match,s=Object(c.useUser)(),l=s.user,o=s.isLoading,m=Object(r.useState)(0),E=Object(_.a)(m,2),u=E[0],R=(E[1],Object(r.useState)(void 0)),b=Object(_.a)(R,2),p=b[0],T=b[1],U=Object(r.useState)([]),O=Object(_.a)(U,2),S=(O[0],O[1],t.params.id);if(d.on(a.PARTY_JOINED_RES,(function(e){console.log(\"USER JOINED PARTY\",e),T(e)})),d.on(a.USER_LEFT_PARTY_RES,(function(e){console.log(\"USER LEFT PARTY\",e),T(e)})),Object(r.useEffect)((function(){return function(){d.emit(a.USER_LEFT_PARTY_REQ)}}),[]),Object(r.useEffect)((function(){console.log(\"changed user in party\",l),l&&d.emit(a.PARTY_JOINED_REQ,{user:l,socketId:d.id,partyId:S})}),[l]),o)return i.a.createElement(\"div\",null,\"Loading...\");return i.a.createElement(\"div\",null,l&&l.id?i.a.createElement(\"div\",null,i.a.createElement(\"div\",null,\"Hi, \",l.id,\"!\")):i.a.createElement(\"div\",null,\"This is a party of \",u,\", but you aint authed.\"),i.a.createElement(\"div\",null,null===p||void 0===p||null===(n=p.users)||void 0===n?void 0:n.map((function(e){return e.display_name}))))};var b=function(){return i.a.createElement(c.UserProvider,null,i.a.createElement(\"div\",{className:\"App\"},i.a.createElement(\"header\",{className:\"App-header\"}),i.a.createElement(o.c,null,i.a.createElement(o.a,{exact:!0,path:\"/\"},i.a.createElement(u,null)),i.a.createElement(o.a,{path:\"/party/:id\",component:R}))))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p=t(12);l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(p.a,null,i.a.createElement(b,null))),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);","extractedComments":[]}