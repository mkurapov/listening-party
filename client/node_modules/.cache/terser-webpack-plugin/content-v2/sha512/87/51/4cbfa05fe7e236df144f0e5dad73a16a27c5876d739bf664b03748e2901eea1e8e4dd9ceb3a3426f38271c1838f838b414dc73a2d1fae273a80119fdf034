{"map":{"version":3,"sources":["static/js/main.ccc1b141.chunk.js"],"names":["this","push","104","module","exports","111","__webpack_exports__","__webpack_require__","r","EventType","react","react_default","n","react_dom","react_dom_default","react_router","components_Button","_ref","name","onClick","a","createElement","slicedToArray","axios","axios_default","SPOTIFY_API","LOGIN","SPOTIFY_ACCOUNT_URL","ME","SPOTIFY_URL","CURRENT_PLAYBACK","UserContext","Object","user","undefined","logout","UserContext_UserProvider","children","_useState","_useState2","setUser","console","log","savedUser","localStorage","getItem","JSON","parse","window","location","hash","login","locationArgs","hashInput","substring","params","split","map","hk","temp","getHashParams","defaults","headers","common","access_token","get","then","res","data","setItem","stringify","clear","SettingsContext","Provider","value","UserContext_useUser","lib","src_socket","lib_default","pages_Home","history","_useUser","on","CREATE_PARTY_RES","newPartyId","id","emit","CREATE_PARTY_REQ","href","APP_URL","Party","match","partyId","usersInParty","setUsersInParty","PARTY_JOINED_REQ","socketId","PARTY_JOINED_RES","party","users","display_name","src_App","className","exact","path","component","Boolean","hostname","react_router_dom","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message","52","57","58"],"mappings":"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"},"code":"(this[\"webpackJsonplistening-party\"]=this[\"webpackJsonplistening-party\"]||[]).push([[0],{104:function(e,t){},111:function(e,t,n){\"use strict\";n.r(t);var a,o=n(0),r=n.n(o),c=n(48),i=n.n(c),l=(n(57),n(58),n(4));!function(e){e.CREATE_PARTY_REQ=\"CREATE_PARTY_REQ\",e.CREATE_PARTY_RES=\"CREATE_PARTY_RES\",e.USER_JOINED_RES=\"USER_JOINED_RES\",e.USER_JOINED_REQ=\"USER_JOINED_REQ\",e.USER_LEFT_PARTY_REQ=\"USER_LEFT_PARTY_REQ\",e.USER_LEFT_PARTY_RES=\"USER_LEFT_PARTY_RES\",e.PARTY_JOINED_REQ=\"PARTY_JOINED_REQ\",e.PARTY_JOINED_RES=\"PARTY_JOINED_RES\"}(a||(a={}));var u=function(e){var t=e.name,n=e.onClick;return r.a.createElement(\"button\",{onClick:n},t)},E=n(14),s=n(21),m=n.n(s),R={LOGIN:\"https://accounts.spotify.com/authorize\",ME:\"https://api.spotify.com/v1/me\",CURRENT_PLAYBACK:\"https://api.spotify.com/v1/me/player\"},_=Object(o.createContext)({user:void 0,logout:function(){}}),f=function(e){var t=e.children,n=Object(o.useState)(),a=Object(E.a)(n,2),c=a[0],i=a[1];Object(o.useEffect)((function(){console.log(\"checklogin\");var e=localStorage.getItem(\"user\");e?i(JSON.parse(e)):window.location.hash&&l()}),[]);var l=function(){var e=function(e){var t=e.substring(1),n={};return t.split(\"&\").map((function(e){var t=e.split(\"=\");n[t[0]]=t[1]})),n}(window.location.hash);m.a.defaults.headers.common.Authorization=\"Bearer \"+e.access_token,m.a.get(R.ME).then((function(e){var t=e.data;i(t),localStorage.setItem(\"user\",JSON.stringify(t))}))},u=function(){i(void 0),localStorage.clear()},s=Object(o.useMemo)((function(){return{user:c,logout:u}}),[c,u]);return r.a.createElement(_.Provider,{value:s},t)},d=function(){return Object(o.useContext)(_)},p=n(49),h=n.n(p)()(\"http://localhost:8080\"),v=function(){var e=Object(l.f)(),t=d(),n=t.user,c=t.logout;Object(o.useEffect)((function(){h.on(a.CREATE_PARTY_RES,(function(t){e.push(\"/party/\"+t)}))}),[]);return r.a.createElement(\"div\",null,n&&n.id?r.a.createElement(\"div\",null,r.a.createElement(\"div\",null,\"Hi, \",n.id,\"!\"),r.a.createElement(u,{name:\"Logout\",onClick:c}),r.a.createElement(u,{name:\"Create new Room\",onClick:function(){h.emit(a.CREATE_PARTY_REQ,h.id)}})):r.a.createElement(\"a\",{href:\"http://localhost:8080/login\"},\"Login\"))},T=function(e){var t=e.match,n=d().user,c=t.params.id;console.log(c);var i=Object(o.useState)([]),l=Object(E.a)(i,2),u=l[0],s=l[1];return Object(o.useEffect)((function(){n&&h.emit(a.PARTY_JOINED_REQ,{socketId:h.id,partyId:c}),h.on(a.PARTY_JOINED_RES,(function(e){console.log(\"party state rn\",e),e.users&&s(e.users)}))}),[]),r.a.createElement(\"div\",null,n&&n.id?r.a.createElement(\"div\",null,r.a.createElement(\"div\",null,\"Hi, \",n.id,\"!\")):r.a.createElement(\"div\",null,\"This is a party, but you aint authed.\"),r.a.createElement(\"div\",null,u.map((function(e){return e.display_name}))))};var A=function(){return r.a.createElement(f,null,r.a.createElement(\"div\",{className:\"App\"},r.a.createElement(\"header\",{className:\"App-header\"}),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:\"/\"},r.a.createElement(v,null)),r.a.createElement(l.a,{path:\"/party/:id\",component:T}))))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=n(13);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S.a,null,r.a.createElement(A,null))),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},52:function(e,t,n){e.exports=n(111)},57:function(e,t,n){},58:function(e,t,n){}},[[52,1,2]]]);","extractedComments":[]}