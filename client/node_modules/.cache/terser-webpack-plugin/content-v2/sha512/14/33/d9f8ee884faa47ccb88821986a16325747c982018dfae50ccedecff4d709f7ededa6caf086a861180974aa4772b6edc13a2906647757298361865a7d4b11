{"map":{"version":3,"sources":["static/js/main.d5d822a3.chunk.js"],"names":["this","push","108","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","lib","lib_default","components_Button","_ref","name","onClick","a","createElement","slicedToArray","axios","axios_default","endpoints","LOGIN","SPOTIFY_ACCOUNT_URL","ME","SPOTIFY_API","CURRENT_PLAYBACK","UserContext","Object","user","undefined","logout","UserContext_UserProvider","children","_useState","_useState2","setUser","console","log","savedUser","localStorage","getItem","JSON","parse","window","location","hash","login","locationArgs","hashInput","substring","params","split","map","hk","temp","getHashParams","defaults","headers","common","access_token","get","then","res","data","setItem","stringify","clear","SettingsContext","Provider","value","pages_Home","_useUser","socket","on","party","id","emit","href","APP_URL","src_App","className","Boolean","hostname","match","react_router_dom","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message","49","exports","54","55","85"],"mappings":"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"},"code":"(this[\"webpackJsonplistening-party\"]=this[\"webpackJsonplistening-party\"]||[]).push([[0],{108:function(e,t,n){\"use strict\";n.r(t);var o=n(0),a=n.n(o),r=n(43),c=n.n(r),l=(n(54),n(55),n(44)),i=n.n(l),s=function(e){var t=e.name,n=e.onClick;return a.a.createElement(\"button\",{onClick:n},t)},u=n(48),m=n(16),h=n.n(m),f={LOGIN:\"https://accounts.spotify.com/authorize\",ME:\"https://api.spotify.com/v1/me\",CURRENT_PLAYBACK:\"https://api.spotify.com/v1/me/player\"},p=Object(o.createContext)({user:void 0,logout:function(){}}),d=function(e){var t=e.children,n=Object(o.useState)(),r=Object(u.a)(n,2),c=r[0],l=r[1];Object(o.useEffect)((function(){console.log(\"checklogin\");var e=localStorage.getItem(\"user\");e?l(JSON.parse(e)):window.location.hash&&i()}),[]);var i=function(){var e=function(e){var t=e.substring(1),n={};return t.split(\"&\").map((function(e){var t=e.split(\"=\");n[t[0]]=t[1]})),n}(window.location.hash);h.a.defaults.headers.common.Authorization=\"Bearer \"+e.access_token,h.a.get(f.ME).then((function(e){console.log(e.data);var t=e.data;l(t),localStorage.setItem(\"user\",JSON.stringify(t))}))},s=function(){l(void 0),localStorage.clear()},m=Object(o.useMemo)((function(){return{user:c,logout:s}}),[c,s]);return a.a.createElement(p.Provider,{value:m},t)},v=function(){var e=Object(o.useContext)(p),t=e.user,n=e.logout;console.log(t);var r=i()(\"http://localhost:8080\");r.on(\"party-created\",(function(e){console.log(e)}));return a.a.createElement(\"div\",null,t&&t.id?a.a.createElement(\"div\",null,a.a.createElement(\"div\",null,\"Hi, \",t.id,\"!\"),a.a.createElement(s,{name:\"Logout\",onClick:n}),a.a.createElement(s,{name:\"Create new Room\",onClick:function(){r.emit(\"party-create\",r.id)}})):a.a.createElement(\"a\",{href:\"http://localhost:8080/login\"},\"Login\"))};var g=function(){return a.a.createElement(d,null,a.a.createElement(\"div\",{className:\"App\"},a.a.createElement(\"header\",{className:\"App-header\"}),a.a.createElement(v,null)))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=n(47);c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(E.a,null,a.a.createElement(g,null))),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},49:function(e,t,n){e.exports=n(108)},54:function(e,t,n){},55:function(e,t,n){},85:function(e,t){}},[[49,1,2]]]);","extractedComments":[]}