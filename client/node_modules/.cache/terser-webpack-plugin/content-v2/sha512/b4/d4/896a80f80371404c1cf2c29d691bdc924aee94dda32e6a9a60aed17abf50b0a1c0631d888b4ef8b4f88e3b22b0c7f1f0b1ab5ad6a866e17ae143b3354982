{"map":{"version":3,"sources":["static/js/main.4d028be9.chunk.js"],"names":["this","push","22","module","exports","__webpack_require__","27","28","51","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","components_Button","_ref","name","onClick","a","createElement","slicedToArray","axios","axios_default","endpoints","LOGIN","SPOTIFY_ACCOUNT_URL","ME","SPOTIFY_API","CURRENT_PLAYBACK","UserContext","Object","user","undefined","logout","UserContext_UserProvider","children","_useState","_useState2","setUser","console","log","savedUser","localStorage","getItem","JSON","parse","window","location","hash","login","locationArgs","hashInput","substring","params","split","map","hk","temp","getHashParams","defaults","headers","common","access_token","get","then","res","data","setItem","stringify","clear","SettingsContext","Provider","value","authenticated_Home","_useUser","socket","io","on","party","id","emit","href","APP_URL","src_App","className","Boolean","hostname","match","react_router_dom","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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"},"code":"(this[\"webpackJsonplistening-party\"]=this[\"webpackJsonplistening-party\"]||[]).push([[0],{22:function(e,t,n){e.exports=n(51)},27:function(e,t,n){},28:function(e,t,n){},51:function(e,t,n){\"use strict\";n.r(t);var o=n(0),a=n.n(o),r=n(17),c=n.n(r),l=(n(27),n(28),function(e){var t=e.name,n=e.onClick;return a.a.createElement(\"button\",{onClick:n},t)}),i=n(21),s=n(4),u=n.n(s),m={LOGIN:\"https://accounts.spotify.com/authorize\",ME:\"https://api.spotify.com/v1/me\",CURRENT_PLAYBACK:\"https://api.spotify.com/v1/me/player\"},h=Object(o.createContext)({user:void 0,logout:function(){}}),p=function(e){var t=e.children,n=Object(o.useState)(),r=Object(i.a)(n,2),c=r[0],l=r[1];Object(o.useEffect)((function(){console.log(\"checklogin\");var e=localStorage.getItem(\"user\");e?l(JSON.parse(e)):window.location.hash&&s()}),[]);var s=function(){var e=function(e){var t=e.substring(1),n={};return t.split(\"&\").map((function(e){var t=e.split(\"=\");n[t[0]]=t[1]})),n}(window.location.hash);u.a.defaults.headers.common.Authorization=\"Bearer \"+e.access_token,u.a.get(m.ME).then((function(e){console.log(e.data);var t=e.data;l(t),localStorage.setItem(\"user\",JSON.stringify(t))}))},p=function(){l(void 0),localStorage.clear()},d=Object(o.useMemo)((function(){return{user:c,logout:p}}),[c,p]);return a.a.createElement(h.Provider,{value:d},t)},d=function(){var e=Object(o.useContext)(h),t=e.user,n=e.logout;console.log(t);var r=io(\"http://localhost:8080\");r.on(\"party-created\",(function(e){console.log(e)}));return a.a.createElement(\"div\",null,t&&t.id?a.a.createElement(\"div\",null,a.a.createElement(\"div\",null,\"Hi, \",t.id,\"!\"),a.a.createElement(l,{name:\"Logout\",onClick:n}),a.a.createElement(l,{name:\"Create new Room\",onClick:function(){r.emit(\"party-create\",r.id)}})):a.a.createElement(\"a\",{href:\"http://localhost:8080/login\"},\"Login\"))};var f=function(){return a.a.createElement(p,null,a.a.createElement(\"div\",{className:\"App\"},a.a.createElement(\"header\",{className:\"App-header\"}),a.a.createElement(d,null)))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var v=n(20);c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(v.a,null,a.a.createElement(f,null))),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);","extractedComments":[]}