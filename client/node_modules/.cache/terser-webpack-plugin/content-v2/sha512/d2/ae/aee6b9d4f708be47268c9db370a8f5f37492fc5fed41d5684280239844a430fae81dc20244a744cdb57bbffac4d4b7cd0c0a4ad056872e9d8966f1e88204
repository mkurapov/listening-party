{"map":{"version":3,"sources":["static/js/main.7494801d.chunk.js"],"names":["this","push","111","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","react_router","lib","lib_default","components_Button","_ref","name","onClick","a","createElement","slicedToArray","axios","axios_default","endpoints","LOGIN","SPOTIFY_ACCOUNT_URL","ME","SPOTIFY_API","CURRENT_PLAYBACK","UserContext","Object","user","undefined","logout","UserContext_UserProvider","children","_useState","_useState2","setUser","console","log","savedUser","localStorage","getItem","JSON","parse","window","location","hash","login","locationArgs","hashInput","substring","params","split","map","hk","temp","getHashParams","defaults","headers","common","access_token","get","then","res","data","setItem","stringify","clear","SettingsContext","Provider","value","UserContext_useUser","pages_Home","history","_useUser","socket","on","party","id","emit","href","APP_URL","pages_Party","src_App","className","exact","path","Boolean","hostname","match","react_router_dom","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message","52","exports","57","58","88"],"mappings":"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"},"code":"(this[\"webpackJsonplistening-party\"]=this[\"webpackJsonplistening-party\"]||[]).push([[0],{111:function(e,t,n){\"use strict\";n.r(t);var a=n(0),o=n.n(a),r=n(47),c=n.n(r),l=(n(57),n(58),n(4)),i=n(48),u=n.n(i),s=function(e){var t=e.name,n=e.onClick;return o.a.createElement(\"button\",{onClick:n},t)},m=n(51),d=n(20),h=n.n(d),p={LOGIN:\"https://accounts.spotify.com/authorize\",ME:\"https://api.spotify.com/v1/me\",CURRENT_PLAYBACK:\"https://api.spotify.com/v1/me/player\"},f=Object(a.createContext)({user:void 0,logout:function(){}}),v=function(e){var t=e.children,n=Object(a.useState)(),r=Object(m.a)(n,2),c=r[0],l=r[1];Object(a.useEffect)((function(){console.log(\"checklogin\");var e=localStorage.getItem(\"user\");e?l(JSON.parse(e)):window.location.hash&&i()}),[]);var i=function(){var e=function(e){var t=e.substring(1),n={};return t.split(\"&\").map((function(e){var t=e.split(\"=\");n[t[0]]=t[1]})),n}(window.location.hash);h.a.defaults.headers.common.Authorization=\"Bearer \"+e.access_token,h.a.get(p.ME).then((function(e){var t=e.data;l(t),localStorage.setItem(\"user\",JSON.stringify(t))}))},u=function(){l(void 0),localStorage.clear()},s=Object(a.useMemo)((function(){return{user:c,logout:u}}),[c,u]);return o.a.createElement(f.Provider,{value:s},t)},E=function(){return Object(a.useContext)(f)},g=function(){var e=Object(l.f)(),t=E(),n=t.user,a=t.logout;console.log(n);var r=u()(\"http://localhost:8080\");r.on(\"party-created\",(function(t){console.log(t),e.push(\"/party/\"+t.id)}));return o.a.createElement(\"div\",null,n&&n.id?o.a.createElement(\"div\",null,o.a.createElement(\"div\",null,\"Hi, \",n.id,\"!\"),o.a.createElement(s,{name:\"Logout\",onClick:a}),o.a.createElement(s,{name:\"Create new Room\",onClick:function(){r.emit(\"party-create\",r.id)}})):o.a.createElement(\"a\",{href:\"http://localhost:8080/login\"},\"Login\"))},y=function(){var e=E().user;return o.a.createElement(\"div\",null,e&&e.id?o.a.createElement(\"div\",null,o.a.createElement(\"div\",null,\"Hi, \",e.id,\"!\")):o.a.createElement(\"div\",null,\"This is a party, but you aint authed.\"))};var w=function(){return o.a.createElement(v,null,o.a.createElement(\"div\",{className:\"App\"},o.a.createElement(\"header\",{className:\"App-header\"}),o.a.createElement(l.c,null,o.a.createElement(l.a,{exact:!0,path:\"/\"},o.a.createElement(g,null)),o.a.createElement(l.a,{path:\"/party/:id\"},o.a.createElement(y,null)))))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var b=n(13);c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(b.a,null,o.a.createElement(w,null))),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},52:function(e,t,n){e.exports=n(111)},57:function(e,t,n){},58:function(e,t,n){},88:function(e,t){}},[[52,1,2]]]);","extractedComments":[]}