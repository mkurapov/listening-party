{"map":{"version":3,"sources":["static/js/main.1e5913b7.chunk.js"],"names":["this","push","111","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","lib","lib_default","endpoints","LOGIN","SPOTIFY_ACCOUNT_URL","ME","SPOTIFY_API","CURRENT_PLAYBACK","axios","axios_default","react_router","components_Button","_ref","name","onClick","a","createElement","slicedToArray","UserContext","Object","user","undefined","updateUser","clearUser","UserContext_UserProvider","children","_useState","_useState2","setUser","SettingsContext","newUser","Provider","value","src_App","_useUser","console","log","socket","on","party","savedUser","localStorage","getItem","JSON","parse","window","location","hash","login","locationArgs","hashInput","substring","params","split","map","hk","temp","getHashParams","defaults","headers","common","access_token","get","then","res","data","setItem","stringify","className","exact","path","id","clear","emit","href","APP_URL","Boolean","hostname","match","react_router_dom","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message","52","exports","57","58","88"],"mappings":"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"},"code":"(this[\"webpackJsonplistening-party\"]=this[\"webpackJsonplistening-party\"]||[]).push([[0],{111:function(e,t,a){\"use strict\";a.r(t);var n=a(0),o=a.n(n),r=a(47),c=a.n(r),l=(a(57),a(58),a(48)),i=a.n(l),s={LOGIN:\"https://accounts.spotify.com/authorize\",ME:\"https://api.spotify.com/v1/me\",CURRENT_PLAYBACK:\"https://api.spotify.com/v1/me/player\"},u=a(20),m=a.n(u),p=a(4),d=function(e){var t=e.name,a=e.onClick;return o.a.createElement(\"button\",{onClick:a},t)},f=a(51),h=Object(n.createContext)({user:void 0,updateUser:function(){},clearUser:function(){}}),v=function(e){var t=e.children,a=Object(n.useState)(),r=Object(f.a)(a,2),c=r[0],l=r[1],i={user:c,updateUser:Object(n.useCallback)((function(e){l(e)}),[]),clearUser:Object(n.useCallback)((function(){l(void 0)}),[])};return o.a.createElement(h.Provider,{value:i},t)};var g=function(){var e=Object(n.useContext)(h),t=e.user,a=e.updateUser,r=e.clearUser;console.log(t);var c=i()(\"http://localhost:8080\");c.on(\"party-created\",(function(e){console.log(e)})),Object(n.useEffect)((function(){var e=localStorage.getItem(\"user\");e?a(JSON.parse(e)):window.location.hash&&l()}),[]);var l=function(){var e=function(e){var t=e.substring(1),a={};return t.split(\"&\").map((function(e){var t=e.split(\"=\");a[t[0]]=t[1]})),a}(window.location.hash);m.a.defaults.headers.common.Authorization=\"Bearer \"+e.access_token,m.a.get(s.ME).then((function(e){console.log(e.data);var t=e.data;a(t),localStorage.setItem(\"user\",JSON.stringify(t))}))};return o.a.createElement(v,null,o.a.createElement(\"div\",{className:\"App\"},o.a.createElement(\"header\",{className:\"App-header\"}),o.a.createElement(p.c,null,o.a.createElement(p.a,{exact:!0,path:\"/\"},t&&t.id?o.a.createElement(\"div\",null,o.a.createElement(\"div\",null,\"Hi, \",t.id,\"!\"),o.a.createElement(d,{name:\"Logout\",onClick:function(){r(),localStorage.clear()}}),o.a.createElement(d,{name:\"Create new Room\",onClick:function(){c.emit(\"party-create\",c.id)}})):o.a.createElement(\"a\",{href:\"http://localhost:8080/login\"},\"Login\")))))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=a(19);c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(E.a,null,o.a.createElement(g,null))),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},52:function(e,t,a){e.exports=a(111)},57:function(e,t,a){},58:function(e,t,a){},88:function(e,t){}},[[52,1,2]]]);","extractedComments":[]}