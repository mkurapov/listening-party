{"map":{"version":3,"sources":["static/js/main.309a8784.chunk.js"],"names":["this","push","111","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","lib","lib_default","endpoints","LOGIN","SPOTIFY_ACCOUNT_URL","ME","SPOTIFY_API","CURRENT_PLAYBACK","axios","axios_default","react_router","components_Button","_ref","name","onClick","a","createElement","slicedToArray","UserContext","Object","user","undefined","updateUser","console","log","clearUser","UserContext_UserProvider","children","_useState","_useState2","setUser","SettingsContext","newUser","Provider","value","src_App","_useUser","socket","on","party","savedUser","localStorage","getItem","JSON","parse","window","location","hash","login","locationArgs","hashInput","substring","params","split","map","hk","temp","getHashParams","defaults","headers","common","access_token","get","then","res","data","setItem","stringify","className","exact","path","id","clear","emit","href","APP_URL","Boolean","hostname","match","react_router_dom","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message","52","exports","57","58","88"],"mappings":"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"},"code":"(this[\"webpackJsonplistening-party\"]=this[\"webpackJsonplistening-party\"]||[]).push([[0],{111:function(e,t,n){\"use strict\";n.r(t);var a=n(0),o=n.n(a),r=n(47),c=n.n(r),l=(n(57),n(58),n(48)),i=n.n(l),s={LOGIN:\"https://accounts.spotify.com/authorize\",ME:\"https://api.spotify.com/v1/me\",CURRENT_PLAYBACK:\"https://api.spotify.com/v1/me/player\"},u=n(20),m=n.n(u),p=n(4),h=function(e){var t=e.name,n=e.onClick;return o.a.createElement(\"button\",{onClick:n},t)},d=n(51),f=Object(a.createContext)({user:void 0,updateUser:function(){console.log(\"here\")},clearUser:function(){}}),v=function(e){var t=e.children,n=Object(a.useState)(),r=Object(d.a)(n,2),c=r[0],l=r[1],i={user:c,updateUser:Object(a.useCallback)((function(e){console.log(e),l(e)}),[]),clearUser:Object(a.useCallback)((function(){l(void 0)}),[])};return o.a.createElement(f.Provider,{value:i},t)};var g=function(){var e=Object(a.useContext)(f),t=e.user,n=e.updateUser,r=e.clearUser;console.log(t);var c=i()(\"http://localhost:8080\");c.on(\"party-created\",(function(e){console.log(e)})),Object(a.useEffect)((function(){var e=localStorage.getItem(\"user\");e?n(JSON.parse(e)):window.location.hash&&l()}),[]);var l=function(){var e=function(e){var t=e.substring(1),n={};return t.split(\"&\").map((function(e){var t=e.split(\"=\");n[t[0]]=t[1]})),n}(window.location.hash);m.a.defaults.headers.common.Authorization=\"Bearer \"+e.access_token,m.a.get(s.ME).then((function(e){console.log(e.data);var t=e.data;n(t),localStorage.setItem(\"user\",JSON.stringify(t))}))};return o.a.createElement(v,null,o.a.createElement(\"div\",{className:\"App\"},o.a.createElement(\"header\",{className:\"App-header\"}),o.a.createElement(p.c,null,o.a.createElement(p.a,{exact:!0,path:\"/\"},t&&t.id?o.a.createElement(\"div\",null,o.a.createElement(\"div\",null,\"Hi, \",t.id,\"!\"),o.a.createElement(h,{name:\"Logout\",onClick:function(){r(),localStorage.clear()}}),o.a.createElement(h,{name:\"Create new Room\",onClick:function(){c.emit(\"party-create\",c.id)}})):o.a.createElement(\"a\",{href:\"http://localhost:8080/login\"},\"Login\")))))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=n(19);c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(E.a,null,o.a.createElement(g,null))),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},52:function(e,t,n){e.exports=n(111)},57:function(e,t,n){},58:function(e,t,n){},88:function(e,t){}},[[52,1,2]]]);","extractedComments":[]}