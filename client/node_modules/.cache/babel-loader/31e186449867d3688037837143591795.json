{"ast":null,"code":"import React from'react';import{useHistory}from'react-router-dom';import Events from'../../../events';import Button from'../components/Button';import{useUser}from'../contexts/UserContext';import{APP_URL}from'../const';import socket from'../socket';var Home=function Home(){var LOGIN_URL=APP_URL+'/login';var history=useHistory();var _useUser=useUser(),user=_useUser.user,logout=_useUser.logout;socket.on(Events.CREATE_PARTY_RES,function(party){console.log(party);history.push('/party/'+party.id);});var createRoom=function createRoom(){socket.emit(Events.CREATE_PARTY_REQ,socket.id);};return/*#__PURE__*/React.createElement(\"div\",null,user&&user.id?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,\"Hi, \",user.id,\"!\"),/*#__PURE__*/React.createElement(Button,{name:\"Logout\",onClick:logout}),/*#__PURE__*/React.createElement(Button,{name:\"Create new Room\",onClick:createRoom})):/*#__PURE__*/React.createElement(\"a\",{href:LOGIN_URL},\"Login\"));};export default Home;","map":{"version":3,"sources":["/Users/max/dev/listening-party/client/src/pages/Home.tsx"],"names":["React","useHistory","Events","Button","useUser","APP_URL","socket","Home","LOGIN_URL","history","user","logout","on","CREATE_PARTY_RES","party","console","log","push","id","createRoom","emit","CREATE_PARTY_REQ"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,OAASC,OAAT,KAAwB,yBAAxB,CAEA,OAASC,OAAT,KAAwB,UAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CAGA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAA0B,CACnC,GAAMC,CAAAA,SAAS,CAAGH,OAAO,CAAG,QAA5B,CACA,GAAMI,CAAAA,OAAO,CAAGR,UAAU,EAA1B,CAFmC,aAGVG,OAAO,EAHG,CAG3BM,IAH2B,UAG3BA,IAH2B,CAGrBC,MAHqB,UAGrBA,MAHqB,CAKnCL,MAAM,CAACM,EAAP,CAAUV,MAAM,CAACW,gBAAjB,CAAmC,SAACC,KAAD,CAAkB,CACjDC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACAL,OAAO,CAACQ,IAAR,CAAa,UAAYH,KAAK,CAACI,EAA/B,EACH,CAHD,EAKA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAY,CAC3Bb,MAAM,CAACc,IAAP,CAAYlB,MAAM,CAACmB,gBAAnB,CAAqCf,MAAM,CAACY,EAA5C,EACH,CAFD,CAIA,mBAAQ,+BACHR,IAAI,EAAIA,IAAI,CAACQ,EAAb,cACG,4CACI,sCAAUR,IAAI,CAACQ,EAAf,KADJ,cAEI,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEP,MAA/B,EAFJ,cAGI,oBAAC,MAAD,EAAQ,IAAI,CAAC,iBAAb,CAA+B,OAAO,CAAEQ,UAAxC,EAHJ,CADH,cAOG,yBAAG,IAAI,CAAEX,SAAT,UARA,CAAR,CAWH,CAzBD,CA2BA,cAAeD,CAAAA,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Events from '../../../events';\n\nimport Button from '../components/Button';\nimport { useUser } from '../contexts/UserContext';\nimport { Party } from '../../../models/User';\nimport { APP_URL } from '../const';\nimport socket from '../socket';\n\n\nconst Home = (): React.ReactElement => {\n    const LOGIN_URL = APP_URL + '/login';\n    const history = useHistory();\n    const { user, logout } = useUser();\n\n    socket.on(Events.CREATE_PARTY_RES, (party: Party) => {\n        console.log(party);\n        history.push('/party/' + party.id)\n    });\n\n    const createRoom = (): void => {\n        socket.emit(Events.CREATE_PARTY_REQ, socket.id);\n    }\n\n    return (<div>\n        {user && user.id ?\n            <div>\n                <div>Hi, {user.id}!</div>\n                <Button name=\"Logout\" onClick={logout}></Button>\n                <Button name=\"Create new Room\" onClick={createRoom}></Button>\n            </div>\n            :\n            <a href={LOGIN_URL}>Login</a>}\n    </div>);\n\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}