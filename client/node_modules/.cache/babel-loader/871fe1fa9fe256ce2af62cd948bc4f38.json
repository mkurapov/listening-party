{"ast":null,"code":"var _jsxFileName = \"/Users/max/dev/listening-party/client/src/pages/Home.tsx\";\nimport React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { EventType } from '../common';\nimport Button from '../components/Button';\nimport { useUser } from '../contexts/UserContext';\nimport { APP_URL } from '../const';\nimport socket from '../socket';\n\nconst Home = () => {\n  const LOGIN_URL = APP_URL + '/login';\n  const history = useHistory();\n  const {\n    user,\n    logout\n  } = useUser();\n  useEffect(() => {\n    socket.on(EventType.CREATE_PARTY_RES, party => {\n      console.log(party);\n      history.push('/party/' + party.id);\n    });\n  }, []);\n\n  const createRoom = () => {\n    socket.emit(EventType.CREATE_PARTY_REQ, socket.id);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, user && user.id ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 17\n    }\n  }, \"Hi, \", user.id, \"!\"), /*#__PURE__*/React.createElement(Button, {\n    name: \"Logout\",\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    name: \"Create new Room\",\n    onClick: createRoom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  })) : /*#__PURE__*/React.createElement(\"a\", {\n    href: LOGIN_URL,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, \"Login\"));\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/max/dev/listening-party/client/src/pages/Home.tsx"],"names":["React","useEffect","useHistory","EventType","Button","useUser","APP_URL","socket","Home","LOGIN_URL","history","user","logout","on","CREATE_PARTY_RES","party","console","log","push","id","createRoom","emit","CREATE_PARTY_REQ"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,SAAT,QAAiC,WAAjC;AAEA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,OAAT,QAAwB,yBAAxB;AACA,SAASC,OAAT,QAAwB,UAAxB;AACA,OAAOC,MAAP,MAAmB,WAAnB;;AAGA,MAAMC,IAAI,GAAG,MAA0B;AACnC,QAAMC,SAAS,GAAGH,OAAO,GAAG,QAA5B;AACA,QAAMI,OAAO,GAAGR,UAAU,EAA1B;AACA,QAAM;AAAES,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAmBP,OAAO,EAAhC;AAEAJ,EAAAA,SAAS,CAAC,MAAM;AACZM,IAAAA,MAAM,CAACM,EAAP,CAAUV,SAAS,CAACW,gBAApB,EAAuCC,KAAD,IAAkB;AACpDC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAL,MAAAA,OAAO,CAACQ,IAAR,CAAa,YAAYH,KAAK,CAACI,EAA/B;AACH,KAHD;AAIH,GALQ,EAKN,EALM,CAAT;;AAQA,QAAMC,UAAU,GAAG,MAAY;AAC3Bb,IAAAA,MAAM,CAACc,IAAP,CAAYlB,SAAS,CAACmB,gBAAtB,EAAwCf,MAAM,CAACY,EAA/C;AACH,GAFD;;AAIA,sBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACHR,IAAI,IAAIA,IAAI,CAACQ,EAAb,gBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAUR,IAAI,CAACQ,EAAf,MADJ,eAEI,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAEP,MAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,iBAAb;AAA+B,IAAA,OAAO,EAAEQ,UAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CADH,gBAOG;AAAG,IAAA,IAAI,EAAEX,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aARA,CAAR;AAWH,CA5BD;;AA8BA,eAAeD,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { EventType, Party } from '../common';\n\nimport Button from '../components/Button';\nimport { useUser } from '../contexts/UserContext';\nimport { APP_URL } from '../const';\nimport socket from '../socket';\n\n\nconst Home = (): React.ReactElement => {\n    const LOGIN_URL = APP_URL + '/login';\n    const history = useHistory();\n    const { user, logout } = useUser();\n\n    useEffect(() => {\n        socket.on(EventType.CREATE_PARTY_RES, (party: Party) => {\n            console.log(party);\n            history.push('/party/' + party.id)\n        });\n    }, [])\n\n\n    const createRoom = (): void => {\n        socket.emit(EventType.CREATE_PARTY_REQ, socket.id);\n    }\n\n    return (<div>\n        {user && user.id ?\n            <div>\n                <div>Hi, {user.id}!</div>\n                <Button name=\"Logout\" onClick={logout}></Button>\n                <Button name=\"Create new Room\" onClick={createRoom}></Button>\n            </div>\n            :\n            <a href={LOGIN_URL}>Login</a>}\n    </div>);\n\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}