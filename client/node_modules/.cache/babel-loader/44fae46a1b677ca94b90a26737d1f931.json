{"ast":null,"code":"var _jsxFileName = \"/Users/max/dev/listening-party/client/src/pages/Home.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport API_ENDPOINTS from '../endpoints';\nimport { getHashParams } from '../helpers/helpers';\n\nconst Home = () => {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  useEffect(() => {\n    if (!window.location.hash) return;\n    setIsLoggedIn(true);\n    let locationArgs = getHashParams(windowlocation.hash);\n    axios.defaults.headers.common['Authorization'] = 'Bearer ' + locationArgs.access_token;\n    getCurrentlyPlaying();\n  }, []);\n\n  const getCurrentlyPlaying = async () => {\n    const userResponse = await axios.get(API_ENDPOINTS.CURRENT_PLAYBACK);\n    console.log(userResponse.data);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, \"YOU ARE AT HOME\");\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/max/dev/listening-party/client/src/pages/Home.tsx"],"names":["React","useEffect","useState","axios","API_ENDPOINTS","getHashParams","Home","isLoggedIn","setIsLoggedIn","window","location","hash","locationArgs","windowlocation","defaults","headers","common","access_token","getCurrentlyPlaying","userResponse","get","CURRENT_PLAYBACK","console","log","data"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAGA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,aAAP,MAA0B,cAA1B;AACA,SAASC,aAAT,QAA8B,oBAA9B;;AAOA,MAAMC,IAAI,GAAG,MAA0B;AAEnC,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BN,QAAQ,CAAC,KAAD,CAA5C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI,CAACQ,MAAM,CAACC,QAAP,CAAgBC,IAArB,EAA2B;AAE3BH,IAAAA,aAAa,CAAC,IAAD,CAAb;AAEA,QAAII,YAA4B,GAAGP,aAAa,CAACQ,cAAc,CAACF,IAAhB,CAAhD;AACAR,IAAAA,KAAK,CAACW,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,YAAYJ,YAAY,CAACK,YAA1E;AACAC,IAAAA,mBAAmB;AACtB,GARQ,EAQN,EARM,CAAT;;AAUA,QAAMA,mBAAmB,GAAG,YAAY;AACpC,UAAMC,YAAY,GAAG,MAAMhB,KAAK,CAACiB,GAAN,CAAUhB,aAAa,CAACiB,gBAAxB,CAA3B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,YAAY,CAACK,IAAzB;AACH,GAHD;;AAKA,sBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAR;AAIH,CAvBD;;AAyBA,eAAelB,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport axios from 'axios';\nimport Button from '../components/Button';\nimport API_ENDPOINTS from '../endpoints';\nimport { getHashParams } from '../helpers/helpers';\n\ninterface AuthHashParams {\n    access_token: string;\n    token_type: string;\n}\n\nconst Home = (): React.ReactElement => {\n\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n    useEffect(() => {\n        if (!window.location.hash) return;\n\n        setIsLoggedIn(true);\n\n        let locationArgs: AuthHashParams = getHashParams(windowlocation.hash);\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + locationArgs.access_token;\n        getCurrentlyPlaying()\n    }, [])\n\n    const getCurrentlyPlaying = async () => {\n        const userResponse = await axios.get(API_ENDPOINTS.CURRENT_PLAYBACK);\n        console.log(userResponse.data);\n    }\n\n    return (<div>\n        YOU ARE AT HOME\n    </div>)\n\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}