{"ast":null,"code":"import React,{useEffect}from'react';import{useHistory}from'react-router-dom';import{SocketEvent}from'../common';import Button from'../components/Button';import{useUser}from'../contexts/UserContext';import{APP_API}from'../const';import socket from'../socket';var Home=function Home(){var history=useHistory();var _useUser=useUser(),user=_useUser.user,logout=_useUser.logout;useEffect(function(){socket.on(SocketEvent.CREATE_PARTY_RES,function(newPartyId){history.push('/party/'+newPartyId);});},[]);var createRoom=function createRoom(){socket.emit(SocketEvent.CREATE_PARTY_REQ,socket.id);};return/*#__PURE__*/React.createElement(\"div\",null,user&&user.id?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Hi, \",user.display_name,\"!\"),/*#__PURE__*/React.createElement(Button,{name:\"Create new Room\",onClick:createRoom}),/*#__PURE__*/React.createElement(\"a\",{href:\"\",onClick:logout},\"Logout\")):/*#__PURE__*/React.createElement(\"a\",{href:APP_API.LOGIN},\"Login\"));};export default Home;","map":{"version":3,"sources":["/Users/max/dev/listening-party/client/src/pages/Home.tsx"],"names":["React","useEffect","useHistory","SocketEvent","Button","useUser","APP_API","socket","Home","history","user","logout","on","CREATE_PARTY_RES","newPartyId","push","createRoom","emit","CREATE_PARTY_REQ","id","display_name","LOGIN"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,WAAT,KAAmC,WAAnC,CAEA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,OAASC,OAAT,KAAwB,yBAAxB,CACA,OAASC,OAAT,KAAwB,UAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CAGA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAA0B,CACnC,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CADmC,aAEVG,OAAO,EAFG,CAE3BK,IAF2B,UAE3BA,IAF2B,CAErBC,MAFqB,UAErBA,MAFqB,CAInCV,SAAS,CAAC,UAAM,CACZM,MAAM,CAACK,EAAP,CAAUT,WAAW,CAACU,gBAAtB,CAAwC,SAACC,UAAD,CAAuB,CAC3DL,OAAO,CAACM,IAAR,CAAa,UAAYD,UAAzB,EACH,CAFD,EAGH,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAME,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAY,CAC3BT,MAAM,CAACU,IAAP,CAAYd,WAAW,CAACe,gBAAxB,CAA0CX,MAAM,CAACY,EAAjD,EACH,CAFD,CAIA,mBAAQ,+BACHT,IAAI,EAAIA,IAAI,CAACS,EAAb,cACG,4CACI,qCAAST,IAAI,CAACU,YAAd,KADJ,cAEI,oBAAC,MAAD,EAAQ,IAAI,CAAC,iBAAb,CAA+B,OAAO,CAAEJ,UAAxC,EAFJ,cAGI,yBAAG,IAAI,CAAC,EAAR,CAAW,OAAO,CAAEL,MAApB,WAHJ,CADH,cAOG,yBAAG,IAAI,CAAEL,OAAO,CAACe,KAAjB,UARA,CAAR,CAWH,CAzBD,CA2BA,cAAeb,CAAAA,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { SocketEvent, Party } from '../common';\n\nimport Button from '../components/Button';\nimport { useUser } from '../contexts/UserContext';\nimport { APP_API } from '../const';\nimport socket from '../socket';\n\n\nconst Home = (): React.ReactElement => {\n    const history = useHistory();\n    const { user, logout } = useUser();\n\n    useEffect(() => {\n        socket.on(SocketEvent.CREATE_PARTY_RES, (newPartyId: Party) => {\n            history.push('/party/' + newPartyId)\n        });\n    }, [])\n\n    const createRoom = (): void => {\n        socket.emit(SocketEvent.CREATE_PARTY_REQ, socket.id);\n    }\n\n    return (<div>\n        {user && user.id ?\n            <div>\n                <h1>Hi, {user.display_name}!</h1>\n                <Button name=\"Create new Room\" onClick={createRoom}></Button>\n                <a href=\"\" onClick={logout}>Logout</a>\n            </div>\n            :\n            <a href={APP_API.LOGIN}>Login</a>}\n    </div>);\n\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}