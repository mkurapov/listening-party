{"ast":null,"code":"var _jsxFileName = \"/Users/max/dev/listening-party/client/src/pages/Home.tsx\";\nimport React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { SocketEvent } from '../common';\nimport Button from '../components/Button';\nimport { useUser } from '../contexts/UserContext';\nimport { APP_API } from '../const';\nimport socket from '../socket';\n\nconst Home = () => {\n  const history = useHistory();\n  const {\n    user,\n    logout\n  } = useUser();\n  useEffect(() => {\n    socket.on(SocketEvent.CREATE_PARTY_RES, newPartyId => {\n      history.push('/party/' + newPartyId);\n    });\n  }, []);\n\n  const createRoom = () => {\n    socket.emit(SocketEvent.CREATE_PARTY_REQ, socket.id);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }\n  }, user && user.id ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 17\n    }\n  }, \"Hi, \", user.id, \"!\"), /*#__PURE__*/React.createElement(Button, {\n    name: \"Logout\",\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    name: \"Create new Room\",\n    onClick: createRoom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 17\n    }\n  })) : /*#__PURE__*/React.createElement(\"a\", {\n    href: APP_API.LOGIN,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, \"Login\"));\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/max/dev/listening-party/client/src/pages/Home.tsx"],"names":["React","useEffect","useHistory","SocketEvent","Button","useUser","APP_API","socket","Home","history","user","logout","on","CREATE_PARTY_RES","newPartyId","push","createRoom","emit","CREATE_PARTY_REQ","id","LOGIN"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,WAAT,QAAmC,WAAnC;AAEA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,OAAT,QAAwB,yBAAxB;AACA,SAASC,OAAT,QAAwB,UAAxB;AACA,OAAOC,MAAP,MAAmB,WAAnB;;AAGA,MAAMC,IAAI,GAAG,MAA0B;AACnC,QAAMC,OAAO,GAAGP,UAAU,EAA1B;AACA,QAAM;AAAEQ,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAmBN,OAAO,EAAhC;AAEAJ,EAAAA,SAAS,CAAC,MAAM;AACZM,IAAAA,MAAM,CAACK,EAAP,CAAUT,WAAW,CAACU,gBAAtB,EAAyCC,UAAD,IAAuB;AAC3DL,MAAAA,OAAO,CAACM,IAAR,CAAa,YAAYD,UAAzB;AACH,KAFD;AAGH,GAJQ,EAIN,EAJM,CAAT;;AAOA,QAAME,UAAU,GAAG,MAAY;AAC3BT,IAAAA,MAAM,CAACU,IAAP,CAAYd,WAAW,CAACe,gBAAxB,EAA0CX,MAAM,CAACY,EAAjD;AACH,GAFD;;AAIA,sBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACHT,IAAI,IAAIA,IAAI,CAACS,EAAb,gBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAUT,IAAI,CAACS,EAAf,MADJ,eAEI,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAER,MAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,iBAAb;AAA+B,IAAA,OAAO,EAAEK,UAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CADH,gBAOG;AAAG,IAAA,IAAI,EAAEV,OAAO,CAACc,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aARA,CAAR;AAWH,CA1BD;;AA4BA,eAAeZ,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { SocketEvent, Party } from '../common';\n\nimport Button from '../components/Button';\nimport { useUser } from '../contexts/UserContext';\nimport { APP_API } from '../const';\nimport socket from '../socket';\n\n\nconst Home = (): React.ReactElement => {\n    const history = useHistory();\n    const { user, logout } = useUser();\n\n    useEffect(() => {\n        socket.on(SocketEvent.CREATE_PARTY_RES, (newPartyId: Party) => {\n            history.push('/party/' + newPartyId)\n        });\n    }, [])\n\n\n    const createRoom = (): void => {\n        socket.emit(SocketEvent.CREATE_PARTY_REQ, socket.id);\n    }\n\n    return (<div>\n        {user && user.id ?\n            <div>\n                <div>Hi, {user.id}!</div>\n                <Button name=\"Logout\" onClick={logout}></Button>\n                <Button name=\"Create new Room\" onClick={createRoom}></Button>\n            </div>\n            :\n            <a href={APP_API.LOGIN}>Login</a>}\n    </div>);\n\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}