{"ast":null,"code":"import _toConsumableArray from\"/Users/max/dev/listening-party/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/max/dev/listening-party/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Events}from'../../../common';import{useUser}from'../contexts/UserContext';import socket from'../socket';var Party=function Party(){var _useUser=useUser(),user=_useUser.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),usersInParty=_useState2[0],setUsersInParty=_useState2[1];useEffect(function(){if(user){socket.emit(Events.USER_JOINED_REQ,user);}socket.on(Events.USER_JOINED_RES,function(newUser){setUsersInParty([].concat(_toConsumableArray(usersInParty),[newUser]));});},[]);return/*#__PURE__*/React.createElement(\"div\",null,user&&user.id?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,\"Hi, \",user.id,\"!\")):/*#__PURE__*/React.createElement(\"div\",null,\"This is a party, but you aint authed.\"),/*#__PURE__*/React.createElement(\"div\",null,usersInParty.map(function(user){return user.display_name;})));};export default Party;","map":{"version":3,"sources":["/Users/max/dev/listening-party/client/src/pages/Party.tsx"],"names":["React","useEffect","useState","Events","useUser","socket","Party","user","usersInParty","setUsersInParty","emit","USER_JOINED_REQ","on","USER_JOINED_RES","newUser","id","map","display_name"],"mappings":"wPAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAGA,OAASC,MAAT,KAAuB,iBAAvB,CAIA,OAASC,OAAT,KAAwB,yBAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CAIA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAA0B,cACnBF,OAAO,EADY,CAC5BG,IAD4B,UAC5BA,IAD4B,eAEIL,QAAQ,CAAS,EAAT,CAFZ,wCAE7BM,YAF6B,eAEfC,eAFe,eAIpCR,SAAS,CAAC,UAAM,CACZ,GAAIM,IAAJ,CAAU,CACNF,MAAM,CAACK,IAAP,CAAYP,MAAM,CAACQ,eAAnB,CAAoCJ,IAApC,EACH,CAEDF,MAAM,CAACO,EAAP,CAAUT,MAAM,CAACU,eAAjB,CAAkC,SAACC,OAAD,CAAmB,CACjDL,eAAe,8BAAKD,YAAL,GAAmBM,OAAnB,GAAf,CACH,CAFD,EAGH,CARQ,CAQN,EARM,CAAT,CAUA,mBACI,+BACKP,IAAI,EAAIA,IAAI,CAACQ,EAAb,cACG,4CACI,sCAAUR,IAAI,CAACQ,EAAf,KADJ,CADH,cAKG,uEANR,cAOI,+BAAMP,YAAY,CAACQ,GAAb,CAAiB,SAAAT,IAAI,QAAIA,CAAAA,IAAI,CAACU,YAAT,EAArB,CAAN,CAPJ,CADJ,CAWH,CAzBD,CA2BA,cAAeX,CAAAA,KAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport io from 'socket.io-client'\nimport { Events } from '../../../common';\nimport axios from 'axios';\nimport Button from '../components/Button';\nimport { getHashParams } from '../helpers/helpers';\nimport { useUser } from '../contexts/UserContext';\nimport socket from '../socket';\nimport { User } from '../../../common';\n\n\nconst Party = (): React.ReactElement => {\n    const { user } = useUser();\n    const [usersInParty, setUsersInParty] = useState<User[]>([]);\n\n    useEffect(() => {\n        if (user) {\n            socket.emit(Events.USER_JOINED_REQ, user)\n        }\n\n        socket.on(Events.USER_JOINED_RES, (newUser: User) => {\n            setUsersInParty([...usersInParty, newUser]);\n        })\n    }, [])\n\n    return (\n        <div>\n            {user && user.id ?\n                <div>\n                    <div>Hi, {user.id}!</div>\n                </div>\n                :\n                <div>This is a party, but you aint authed.</div>}\n            <div>{usersInParty.map(user => user.display_name)}</div>\n        </div>);\n\n};\n\nexport default Party;\n"]},"metadata":{},"sourceType":"module"}