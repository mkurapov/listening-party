{"ast":null,"code":"var _jsxFileName = \"/Users/max/dev/listening-party/client/src/pages/Home.tsx\";\nimport React, { useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport axios from 'axios';\nimport Button from '../components/Button';\nimport API_ENDPOINTS from '../endpoints'; // import { getHashParams } from '../../../helpers/helpers';\n\nconst Home = () => {\n  const clientId = 'ac96599f92324f9ea5a9f0e80f48b9a4';\n  let location = useLocation();\n  const scopes = ['user-read-private', 'user-modify-playback-state', 'user-read-currently-playing', 'user-read-playback-state']; // const state = '';\n\n  const redirectUri = 'http://localhost:3000/';\n  const authURL = `https://accounts.spotify.com/authorize?response_type=token&client_id=${encodeURIComponent(clientId)}&scope=${encodeURIComponent(scopes.join('%20'))}&redirect_uri=${encodeURIComponent(redirectUri)}`;\n  const [isLoggedIn, setIsLoggedIn] = useState(false); // useEffect(() => {\n  //     if (!location.hash) return;\n  //     setIsLoggedIn(true);\n  //     let locationArgs: AuthHashParams = getHashParams(location.hash);\n  //     axios.defaults.headers.common['Authorization'] = 'Bearer ' + locationArgs.access_token;\n  // });\n\n  if (!isLoggedIn) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: authURL,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }, \" Login \"));\n  }\n\n  const getCurrentlyPlaying = async () => {\n    const userResponse = await axios.get(API_ENDPOINTS.CURRENT_PLAYBACK);\n    console.log(userResponse.data);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, \"YOU ARE LOGGED IN\", /*#__PURE__*/React.createElement(Button, {\n    name: \"dogs\",\n    onClick: getCurrentlyPlaying,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/max/dev/listening-party/client/src/pages/Home.tsx"],"names":["React","useState","useLocation","axios","Button","API_ENDPOINTS","Home","clientId","location","scopes","redirectUri","authURL","encodeURIComponent","join","isLoggedIn","setIsLoggedIn","getCurrentlyPlaying","userResponse","get","CURRENT_PLAYBACK","console","log","data"],"mappings":";AAAA,OAAOA,KAAP,IAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,kBAA5B;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,aAAP,MAA0B,cAA1B,C,CACA;;AAQA,MAAMC,IAAI,GAAG,MAA0B;AACnC,QAAMC,QAAQ,GAAG,kCAAjB;AACA,MAAIC,QAAQ,GAAGN,WAAW,EAA1B;AACA,QAAMO,MAAM,GAAG,CAAC,mBAAD,EAAsB,4BAAtB,EAAoD,6BAApD,EAAmF,0BAAnF,CAAf,CAHmC,CAInC;;AACA,QAAMC,WAAW,GAAG,wBAApB;AACA,QAAMC,OAAO,GAAI,wEAAuEC,kBAAkB,CAACL,QAAD,CAAW,UAASK,kBAAkB,CAACH,MAAM,CAACI,IAAP,CAAY,KAAZ,CAAD,CAAqB,iBAAgBD,kBAAkB,CAACF,WAAD,CAAc,EAArN;AAEA,QAAM,CAACI,UAAD,EAAaC,aAAb,IAA8Bd,QAAQ,CAAC,KAAD,CAA5C,CARmC,CAUnC;AACA;AAEA;AAEA;AACA;AACA;;AAEA,MAAI,CAACa,UAAL,EAAiB;AACb,wBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACJ;AAAG,MAAA,IAAI,EAAEH,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADI,CAAR;AAGH;;AAED,QAAMK,mBAAmB,GAAG,YAAY;AACpC,UAAMC,YAAY,GAAG,MAAMd,KAAK,CAACe,GAAN,CAAUb,aAAa,CAACc,gBAAxB,CAA3B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,YAAY,CAACK,IAAzB;AACH,GAHD;;AAKA,sBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAEJ,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,MAAb;AAAoB,IAAA,OAAO,EAAEN,mBAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFI,CAAR;AAKH,CAnCD;;AAqCA,eAAeV,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport axios from 'axios';\nimport Button from '../components/Button';\nimport API_ENDPOINTS from '../endpoints';\n// import { getHashParams } from '../../../helpers/helpers';\n\ninterface AuthHashParams {\n    access_token: string;\n    token_type: string;\n    expires_in: string;\n}\n\nconst Home = (): React.ReactElement => {\n    const clientId = 'ac96599f92324f9ea5a9f0e80f48b9a4';\n    let location = useLocation();\n    const scopes = ['user-read-private', 'user-modify-playback-state', 'user-read-currently-playing', 'user-read-playback-state'];\n    // const state = '';\n    const redirectUri = 'http://localhost:3000/';\n    const authURL = `https://accounts.spotify.com/authorize?response_type=token&client_id=${encodeURIComponent(clientId)}&scope=${encodeURIComponent(scopes.join('%20'))}&redirect_uri=${encodeURIComponent(redirectUri)}`\n\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n    // useEffect(() => {\n    //     if (!location.hash) return;\n\n    //     setIsLoggedIn(true);\n\n    //     let locationArgs: AuthHashParams = getHashParams(location.hash);\n    //     axios.defaults.headers.common['Authorization'] = 'Bearer ' + locationArgs.access_token;\n    // });\n\n    if (!isLoggedIn) {\n        return (<div>\n            <a href={authURL}> Login </a>\n        </div>);\n    }\n\n    const getCurrentlyPlaying = async () => {\n        const userResponse = await axios.get(API_ENDPOINTS.CURRENT_PLAYBACK);\n        console.log(userResponse.data);\n    }\n\n    return (<div>\n        YOU ARE LOGGED IN\n        <Button name=\"dogs\" onClick={getCurrentlyPlaying}></Button>\n    </div>)\n\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}